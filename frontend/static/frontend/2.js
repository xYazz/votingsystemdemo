/*! For license information please see 2.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2],{365:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ 0);\n/* harmony import */ var _LoadingPage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LoadingPage */ 86);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-router-dom */ 32);\n/* harmony import */ var _axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../axios */ 20);\n/* harmony import */ var _material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @material-ui/core/TextField */ 850);\n/* harmony import */ var _material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material-ui/core/Grid */ 847);\n/* harmony import */ var _material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @material-ui/core/Typography */ 846);\n/* harmony import */ var _material_ui_core_styles_makeStyles__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material-ui/core/styles/makeStyles */ 74);\n/* harmony import */ var _material_ui_core_Container__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @material-ui/core/Container */ 826);\n/* harmony import */ var _material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @material-ui/core/MenuItem */ 893);\n/* harmony import */ var devextreme_react_pie_chart__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! devextreme-react/pie-chart */ 87);\n/* harmony import */ var devextreme_react_pie_chart__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(devextreme_react_pie_chart__WEBPACK_IMPORTED_MODULE_3__);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\n\n\n\n\n //import { Chart, Series, Tooltip, Label, ArgumentAxis, Legend } from \'devextreme-react/chart\'\n\n\nvar choices = ["Edukacja", "Status społeczny", "Miejsce zamieszkania"];\nvar useStyles = (0,_material_ui_core_styles_makeStyles__WEBPACK_IMPORTED_MODULE_4__["default"])(function (theme) {\n  return {\n    paper: {\n      marginTop: theme.spacing(8),\n      display: \'flex\',\n      flexDirection: \'column\',\n      alignItems: \'center\'\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main\n    },\n    form: {\n      width: \'100%\',\n      // Fix IE 11 issue.\n      marginTop: theme.spacing(3)\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2)\n    }\n  };\n});\n\nvar Results = function Results(props) {\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n    loading: true\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      choiceData = _useState4[0],\n      setChoiceData = _useState4[1];\n\n  var history = react_router_dom__WEBPACK_IMPORTED_MODULE_5__.useHistory;\n\n  var getData = function getData() {\n    (0,_axios__WEBPACK_IMPORTED_MODULE_2__["default"])(\'/api/results/\' + props.location.state.vote_id).then(function (response) {\n      console.log(response.data);\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        results: response.data.results.results ? response.data.results : JSON.parse(response.data.results),\n        detail_id: 0,\n        detail_view: false,\n        loading: false\n      }));\n    });\n  };\n\n  var handleChange = function handleChange(e) {\n    if (e.target.value) {\n      setChoiceData(state.results[\'Edukacja\'][e.target.value]);\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        detail_id: e.target.value,\n        detail_view: true\n      }));\n    } else {\n      setChoiceData(Object.values(state.results[\'Kandydaci\']).map(function (obj) {\n        return {\n          label: obj.label,\n          value: obj.value\n        };\n      }));\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        detail_id: 0,\n        detail_view: false\n      }));\n    }\n  };\n\n  var handleChangeChoice = function handleChangeChoice(e) {\n    if (e.target.value) {\n      setChoiceData(state.results[e.target.value][state.detail_id]);\n    }\n  };\n\n  var pointClickHandler = function pointClickHandler(e) {\n    toggleVisibility(e.target);\n  };\n\n  var legendClickHandler = function legendClickHandler(e) {\n    var arg = e.target;\n    var item = e.component.getAllSeries()[0].getPointsByArg(arg)[0];\n    toggleVisibility(item);\n  };\n\n  var toggleVisibility = function toggleVisibility(item) {\n    item.isVisible() ? item.hide() : item.show();\n  };\n\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    getData();\n  }, []);\n  var classes = useStyles();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_Container__WEBPACK_IMPORTED_MODULE_6__["default"], {\n    component: "main",\n    maxWidth: "xl",\n    sx: {\n      mb: 4\n    }\n  }, state !== null && state !== void 0 && state.loading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_LoadingPage__WEBPACK_IMPORTED_MODULE_1__["default"], null) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, console.log(state.results), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("form", {\n    className: classes.form,\n    noValidate: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_Container__WEBPACK_IMPORTED_MODULE_6__["default"], {\n    component: "main",\n    maxWidth: "xs",\n    sx: {\n      mb: 2\n    }\n  }, state.results.results != \'Brak oddanych głosów\' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_7__["default"], {\n    container: true,\n    spacing: 2\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_7__["default"], {\n    item: true,\n    xs: 12,\n    align: "center"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_8__["default"], {\n    component: "h4",\n    variant: "h4"\n  }, "Przegl\\u0105d wynik\\xF3w")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_7__["default"], {\n    item: true,\n    xs: 12\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_9__["default"], {\n    variant: "outlined",\n    required: true,\n    select: true,\n    fullWidth: true,\n    label: "Kandydat",\n    name: "candidate",\n    onChange: handleChange\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_10__["default"], {\n    key: 0,\n    value: 0\n  }, "Ogólny wynik"), state.results[\'Kandydaci\'].map(function (candidate) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_10__["default"], {\n      key: candidate.id,\n      value: candidate.id\n    }, candidate.label);\n  }))), state.detail_view ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_7__["default"], {\n    item: true,\n    xs: 12\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_9__["default"], {\n    variant: "outlined",\n    required: true,\n    select: true,\n    fullWidth: true,\n    label: "Statystyka",\n    name: "choices",\n    onChange: handleChangeChoice\n  }, choices.map(function (choice) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_10__["default"], {\n      key: choice,\n      value: choice\n    }, choice);\n  }))) : null)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_7__["default"], {\n    item: true,\n    xs: 12,\n    align: "center"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_8__["default"], {\n    component: "h4",\n    variant: "h4"\n  }, "Nikt nie wzi\\u0105\\u0142 udzia\\u0142u w wyborach.")))), choiceData ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement((devextreme_react_pie_chart__WEBPACK_IMPORTED_MODULE_3___default()), {\n    id: "pie",\n    dataSource: choiceData,\n    palette: "Bright",\n    title: "Podsumowanie",\n    onPointClick: pointClickHandler,\n    onLegendClick: legendClickHandler\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(devextreme_react_pie_chart__WEBPACK_IMPORTED_MODULE_3__.Series, {\n    argumentField: "label",\n    valueField: "value"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(devextreme_react_pie_chart__WEBPACK_IMPORTED_MODULE_3__.Label, {\n    visible: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(devextreme_react_pie_chart__WEBPACK_IMPORTED_MODULE_3__.Connector, {\n    visible: true,\n    width: 1\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(devextreme_react_pie_chart__WEBPACK_IMPORTED_MODULE_3__.Export, {\n    enabled: true\n  })) : null)));\n}; //<div><PieChart data={candidateData} outerRadius={200} innerRadius={100} /></div>\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Results);\n\n//# sourceURL=webpack://frontend/./src/components/Results.js?')}}]);