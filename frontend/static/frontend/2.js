"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2],{347:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(0),a=n(358),l=n(495),o=n(504),c=n(502),i=n(503),u=n(500),s=n(13),m=n(31),f=n(23);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=function(e){var t=(0,f.b)().enqueueSnackbar;return r.createElement("div",null,r.createElement(l.a,{open:e.state.confirmDialogOpen,onClose:function(){e.setState(p(p({},e.state),{},{confirmDialogOpen:!1}))},"aria-describedby":"alert-dialog-slide-description"},r.createElement(u.a,null,"Uwaga"),r.createElement(c.a,null,r.createElement(i.a,{id:"alert-dialog-slide-description"},e.message)),r.createElement(o.a,null,r.createElement(a.a,{onClick:function(){e.setState(p(p({},e.state),{},{confirmDialogOpen:!1}))}},"Anuluj"),r.createElement(a.a,{onClick:function(){s.a.delete(e.state.toDeleteURL+e.state.toDeleteId).then((function(n){202==n.status?((0,m.b)(t,"Pomyślnie usunięto element.","success"),e.getProfileDetails()):(0,m.b)(t,"Wystąpił nieznany błąd.","error")})).catch((function(e){console.log(e)}))}},"Potwierdź"))))}},325:(e,t,n)=>{n.r(t),n.d(t,{default:()=>U});var r=n(0),a=n(13),l=n(392),o=n(385),c=n(337),i=n(393),u=n(336),s=n(333),m=n(394),f=n(395),d=n(414),p=n(358),b=n(343),g=n(495),y=n(504),E=n(502),O=n(503),h=n(500),v=n(415),j=n(344),w=n(383),D=n(31),P=n(23),k=n(25);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(){return A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}var I=r.forwardRef((function(e,t){return r.createElement(v.a,A({direction:"up",ref:t},e))}));const U=function(){(0,w.e)();var e,t=(0,P.b)().enqueueSnackbar,n=C((0,r.useState)({open:!1,confirmDialogOpen:!1,toDeleteId:!1,toDeleteURL:!1,extra_data:!1,loading:!0,error:""}),2),v=n[0],_=n[1],S=function(){a.a.get("/api/can-vote").then((function(e){_(x(x({},v),{},{extra_data:e.data,loading:!1}))})).catch((function(e){_(x(x({},v),{},{error:"Brak oczekujących próśb"}))}))};return(0,r.useEffect)((function(){S()}),[]),r.createElement("div",null,console.log(v.error),r.createElement(g.a,{open:v.confirmDialogOpen,TransitionComponent:I,keepMounted:!0,onClose:function(){_(x(x({},v),{},{confirmDialogOpen:!1}))},"aria-describedby":"alert-dialog-slide-description"},r.createElement(h.a,null,"Uwaga"),r.createElement(E.a,null,r.createElement(O.a,{id:"alert-dialog-slide-description"},"Czy na pewno chcesz usunąć wybrany element?")),r.createElement(y.a,null,r.createElement(p.a,{onClick:function(){_(x(x({},v),{},{confirmDialogOpen:!1}))}},"Anuluj"),r.createElement(p.a,{onClick:function(){a.a.delete(v.toDeleteURL+v.toDeleteId).then((function(e){202==e.status?(0,D.b)(t,"Pomyślnie usunięto element.","success"):(0,D.b)(t,"Wystąpił nieznany błąd.","error"),S()})).catch((function(e){console.log(e)}))}},"Potwierdź"))),r.createElement(o.a,{component:"main",maxWidth:"lg",sx:{mb:4}},v.loading?r.createElement(k.a,null):r.createElement(l.a,{elevation:16,sx:{my:{xs:3,md:6},p:{xs:2,md:3}}},null!=v&&null!==(e=v.extra_data)&&void 0!==e&&e.can_vote?r.createElement(s.a,{component:l.a},r.createElement(i.a,{"aria-label":"collapsible table"},r.createElement(m.a,null,r.createElement(f.a,null,r.createElement(u.a,null),r.createElement(u.a,null),r.createElement(u.a,{align:"right"},"Nazwa"),r.createElement(u.a,{align:"right"},"Kod dostępu"),r.createElement(u.a,{align:"right"},"E-mail"),r.createElement(u.a,{align:"right"},"Imię"),r.createElement(u.a,{align:"right"},"Nazwisko"))),v.extra_data.can_vote.map((function(e){return r.createElement(r.Fragment,null,r.createElement(f.a,{sx:{"& > *":{borderBottom:"unset"}}},r.createElement(u.a,null,r.createElement(c.a,{"aria-label":"add",size:"small",id:"1",name:e.id,onClick:function(n){return r=e.id,void a.a.patch("api/can-vote/"+r,{can_vote:!0}).then((function(e){(0,D.b)(t,"Zaakceptowano prośbę.","success"),S()}));var r}},r.createElement(b.a,null))),r.createElement(u.a,null,r.createElement(c.a,{"aria-label":"delete",size:"small",id:"1",name:e.id,onClick:function(){_(x(x({},v),{},{confirmDialogOpen:!0,toDeleteId:e.id,toDeleteURL:"/api/can-vote/"}))}},r.createElement(j.a,null))),r.createElement(u.a,{align:"right"},v.extra_data.vote_data[e.vote].name),r.createElement(u.a,{align:"right"},v.extra_data.vote_data[e.vote].code),r.createElement(u.a,{align:"right"},v.extra_data.voter_data[e.voter].email),r.createElement(u.a,{align:"right"},v.extra_data.voter_data[e.voter].first_name),r.createElement(u.a,{align:"right"},v.extra_data.voter_data[e.voter].last_name)))})))):r.createElement(o.a,{component:"main",maxWidth:"lg",sx:{mb:4}},r.createElement(d.a,{component:"h1",variant:"h5"},"Brak oczekujących próśb do dołączenia")))))}}}]);