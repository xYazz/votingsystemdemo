"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[159],{4791:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var a=n(7294),r=n(3838),o=n(7645),l=n(7750),i=n(6408),c=n(5545),u=n(3447),d=n(6914),s=n(6544),m=n(2948),p=n(3400);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=function(e){var t=(0,p.Ds)().enqueueSnackbar,n=function(t){e.setState(E(E({},e.state),{},{toEditCandidate:E(E({},e.state.toEditCandidate),{},g({},t.target.name,t.target.value))}))};return a.createElement("div",null,a.createElement(r.Z,{open:e.state.dialogCandidateEditOpen,onClose:function(){e.setState(E(E({},e.state),{},{dialogCandidateEditOpen:!1}))}},a.createElement(o.Z,null,"Edytuj kandydata"),a.createElement(l.Z,null,a.createElement(i.Z,null,e.state.toEditCandidate?a.createElement(a.Fragment,null,a.createElement(c.Z,{autoFocus:!0,margin:"normal",id:"first_name",label:"Imię",name:"first_name",value:e.state.toEditCandidate.first_name,type:"text",fullWidth:!0,onChange:n,variant:"outlined"}),a.createElement(c.Z,{autoFocus:!0,margin:"normal",id:"last_name",label:"Nazwisko",name:"last_name",value:e.state.toEditCandidate.last_name,type:"text",fullWidth:!0,onChange:n,variant:"outlined"}),a.createElement(c.Z,{autoFocus:!0,margin:"normal",id:"description",label:"Opis programu",name:"description",value:e.state.toEditCandidate.description,type:"text",fullWidth:!0,onChange:n,variant:"outlined"})):"Nie można edytować danych, skontaktuj się z administratorem systemu.")),a.createElement(u.Z,null,a.createElement(d.Z,{onClick:function(){e.setState(E(E({},e.state),{},{dialogCandidateEditOpen:!1}))}},"Anuluj"),a.createElement(d.Z,{onClick:function(){var n=(0,s.Gk)(e.state.toEditCandidate.first_name,e.state.toEditCandidate.last_name,e.state.toEditCandidate.description);1==n?m.Z.patch("api/get-candidate/"+e.state.toEditCandidate.id,{first_name:e.state.toEditCandidate.first_name,last_name:e.state.toEditCandidate.last_name,description:e.state.toEditCandidate.description}).then((function(n){202==n.status?((0,s.Dz)(t,"Edycja zakończona pomyślnie.","success"),e.getProfileDetails()):console.log(n)})).catch((function(e){console.log(e)})):(0,s.Dz)(t,n,"error")}},"Zatwierdź zmiany"))))}},3408:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var a=n(7294),r=n(3838),o=n(7645),l=n(7750),i=n(6408),c=n(5545),u=n(3447),d=n(6914),s=n(8387),m=n(2948),p=n(2376),f=n(6544),E=n(3400),g=n(6479),b=n(4436),y=n(6019),v=n(5166),h=n(553),Z=n(8060);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _=function(e){var t=(0,E.Ds)().enqueueSnackbar,n=function(t){e.setState(j(j({},e.state),{},{toEditVote:j(j({},e.state.toEditVote),{},w({},t.target.name,t.target.value))}))};return a.createElement("div",null,a.createElement(r.Z,{open:e.state.dialogVoteEditOpen,onClose:function(){e.setState(j(j({},e.state),{},{dialogVoteEditOpen:!1}))}},a.createElement(o.Z,null,"Edytuj głosowanie"),a.createElement(l.Z,null,a.createElement(i.Z,null,e.state.toEditVote?a.createElement(a.Fragment,null,a.createElement(c.Z,{autoFocus:!0,margin:"normal",id:"name",label:"Nazwa",name:"name",value:e.state.toEditVote.name,type:"text",fullWidth:!0,onChange:n,variant:"outlined"}),a.createElement(c.Z,{variant:"outlined",required:!0,select:!0,margin:"normal",fullWidth:!0,id:"type",name:"type",value:e.state.toEditVote.type,label:"Rodzaj głosowania",autoComplete:"type",onChange:n},p.R.map((function(e){return a.createElement(g.Z,{key:e.value,value:e.value},e.label)}))),a.createElement(c.Z,{autoFocus:!0,margin:"normal",id:"max_votes",label:"Max. ilość głosó",name:"max_votes",value:e.state.toEditVote.max_votes,type:"number",fullWidth:!0,onChange:n,variant:"outlined"}),a.createElement(b.Z,null,a.createElement(y.Z,{id:"demo-radio-buttons-group-label"},"Widoczność"),a.createElement(v.Z,{"aria-labelledby":"demo-radio-buttons-group-label",name:"private",required:!0,onChange:n},a.createElement(h.Z,{value:"True",control:a.createElement(Z.Z,null),label:"Prywatne"}),a.createElement(h.Z,{value:"False",control:a.createElement(Z.Z,null),label:"Publiczne"}))),a.createElement(c.Z,{type:"datetime-local",fullWidth:!0,margin:"normal",id:"start_date",name:"start_date",label:"Data rozpoczęcia.",onChange:n,value:e.state.toEditVote.start_date,variant:"outlined",InputLabelProps:{shrink:!0},inputProps:{min:1}}),a.createElement(c.Z,{autoFocus:!0,margin:"normal",id:"end_date",name:"end_date",label:"Data zakończenia",value:e.state.toEditVote.end_date,type:"datetime-local",fullWidth:!0,onChange:n,variant:"outlined",InputLabelProps:{shrink:!0},inputProps:{min:1}}),a.createElement(c.Z,{autoFocus:!0,margin:"normal",id:"name",name:"description",label:"Opis",value:e.state.toEditVote.description,type:"text",fullWidth:!0,onChange:n,variant:"outlined"})):"Nie można edytować danych, skontaktuj się z administratorem systemu.")),a.createElement(u.Z,null,a.createElement(d.Z,{onClick:function(){e.setState(j(j({},e.state),{},{dialogVoteEditOpen:!1}))}},"Anuluj"),a.createElement(d.Z,{onClick:function(){var n=(0,s.validateVoteData)(e.state.toEditVote);1==n?m.Z.put("api/get-vote/"+e.state.toEditVote.id,{name:e.state.toEditVote.name,type:e.state.toEditVote.type,description:e.state.toEditVote.description,start_date:e.state.toEditVote.start_date,end_date:e.state.toEditVote.end_date,private:e.state.toEditVote.private,max_votes:e.state.toEditVote.max_votes}).then((function(n){202==n.status?((0,f.Dz)(t,"Edycja zakończona pomyślnie.","success"),e.getProfileDetails()):console.log(n)})).catch((function(e){console.log(e)})):(0,f.Dz)(t,n,"error")}},"Zatwierdź zmiany"))))}},3159:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var a=n(7294),r=(n(381),n(2948)),o=(n(6245),n(6501)),l=n(4065),i=n(6867),c=n(9573),u=n(6926),d=n(7896),s=n(6011),m=n(3694),p=n(2658),f=n(6914),E=n(1715),g=n(5977),b=(n(3408),n(4791),n(3838)),y=n(3447),v=n(7750),h=n(6408),Z=n(7645),O=n(4776),j=n(8364),w=n(6544),_=n(3400),C=(n(5676),n(7513));function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},x.apply(this,arguments)}var V=a.forwardRef((function(e,t){return a.createElement(O.Z,x({direction:"up",ref:t},e))}));const S=function(){(0,g.k6)();var e,t,n=(0,_.Ds)().enqueueSnackbar,O=(e=(0,a.useState)({open:!1,confirmDialogOpen:!1,toDeleteId:!1,toDeleteURL:!1,extra_data:!1,loading:!0,error:""}),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);l=!0);}catch(e){i=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),k=O[0],P=O[1],x=function(){r.Z.get("/api/can-vote").then((function(e){P(D(D({},k),{},{extra_data:e.data,loading:!1}))})).catch((function(e){P(D(D({},k),{},{error:"Brak oczekujących próśb"}))}))};return(0,a.useEffect)((function(){x()}),[]),a.createElement("div",null,console.log(k.error),a.createElement(b.Z,{open:k.confirmDialogOpen,TransitionComponent:V,keepMounted:!0,onClose:function(){P(D(D({},k),{},{confirmDialogOpen:!1}))},"aria-describedby":"alert-dialog-slide-description"},a.createElement(Z.Z,null,"Uwaga"),a.createElement(v.Z,null,a.createElement(h.Z,{id:"alert-dialog-slide-description"},"Czy na pewno chcesz usunąć wybrany element?")),a.createElement(y.Z,null,a.createElement(f.Z,{onClick:function(){P(D(D({},k),{},{confirmDialogOpen:!1}))}},"Anuluj"),a.createElement(f.Z,{onClick:function(){r.Z.delete(k.toDeleteURL+k.toDeleteId).then((function(e){202==e.status?(0,w.Dz)(n,"Pomyślnie usunięto element.","success"):(0,w.Dz)(n,"Wystąpił nieznany błąd.","error"),x()})).catch((function(e){console.log(e)}))}},"Potwierdź"))),a.createElement(l.Z,{component:"main",maxWidth:"lg",sx:{mb:4}},k.loading?a.createElement(C.Z,null):a.createElement(o.Z,{elevation:16,sx:{my:{xs:3,md:6},p:{xs:2,md:3}}},null!=k&&k.extra_data?a.createElement(d.Z,{component:o.Z},a.createElement(c.Z,{"aria-label":"collapsible table"},a.createElement(s.Z,null,a.createElement(m.Z,null,a.createElement(u.Z,null),a.createElement(u.Z,null),a.createElement(u.Z,{align:"right"},"Nazwa"),a.createElement(u.Z,{align:"right"},"Kod dostępu"),a.createElement(u.Z,{align:"right"},"E-mail"),a.createElement(u.Z,{align:"right"},"Imię"),a.createElement(u.Z,{align:"right"},"Nazwisko"))),k.extra_data.can_vote.map((function(e){return a.createElement(a.Fragment,null,a.createElement(m.Z,{sx:{"& > *":{borderBottom:"unset"}}},a.createElement(u.Z,null,a.createElement(i.Z,{"aria-label":"add",size:"small",id:"1",name:e.id,onClick:function(t){return a=e.id,void r.Z.patch("api/can-vote/"+a,{can_vote:!0}).then((function(e){(0,w.Dz)(n,"Zaakceptowano prośbę.","success"),x()}));var a}},a.createElement(E.Z,null))),a.createElement(u.Z,null,a.createElement(i.Z,{"aria-label":"delete",size:"small",id:"1",name:e.id,onClick:function(){P(D(D({},k),{},{confirmDialogOpen:!0,toDeleteId:e.id,toDeleteURL:"/api/can-vote/"}))}},a.createElement(j.Z,null))),a.createElement(u.Z,{align:"right"},k.extra_data.vote_data[e.vote].name),a.createElement(u.Z,{align:"right"},k.extra_data.vote_data[e.vote].code),a.createElement(u.Z,{align:"right"},k.extra_data.voter_data[e.voter].email),a.createElement(u.Z,{align:"right"},k.extra_data.voter_data[e.voter].first_name),a.createElement(u.Z,{align:"right"},k.extra_data.voter_data[e.voter].last_name)))})))):a.createElement(l.Z,{component:"main",maxWidth:"lg",sx:{mb:4}},a.createElement(p.Z,{component:"h1",variant:"h5"},"Brak oczekujących próśb do dołączenia")))))}}}]);